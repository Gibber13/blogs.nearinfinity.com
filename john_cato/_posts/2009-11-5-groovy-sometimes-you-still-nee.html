--- 
permalink: /blogs/john_cato/groovy_sometimes_you_still_nee.html
layout: blogs
title: Groovy, sometimes you still need a semicolon.
date: 2009-11-05 14:40:30 -05:00
tags: Groovy
---
{% raw %}
Like Javascript, semicolons are optional in Groovy except for when they aren't optional. These examples are both pretty contrived, though I found both because they're actually something that I've written, and could both be written better. That's not really the point I'm making though. When something doesn't compile when it looks like it clearly should sometimes it's hard to track down why, and it's surprising to learn that it's because you need a semicolon.<br /><br /><b>Example the first: </b>Generics at the end of a line:<br /><br /><blockquote><pre>def list = [1,2,3] as List&lt;Integer&gt;<br />println list<br /></pre></blockquote><br />If you try to compile this in Groovy it will give you the error message: 'unexpected token: println', however this:<br /><br /><blockquote><pre>def list = [1,2,3] as List&lt;Integer&gt;;<br />println list</pre></blockquote>Gives the expected output.<br /><br /><br /><b>Example the second: </b>Ambiguous Closures<br /><br /><blockquote><pre>{-&gt; assert GroovyClosureTest == owner.getClass() }()<br />{-&gt; assert GroovyClosureTest == delegate.getClass() }()<br /></pre></blockquote><br />I don't think you'd really ever need to do something like this, but a closure can be defined and called on a single line. Because of Groovy's special closure parameter syntax (<i>e.g. list.each() {} being synonomous with list.each({})</i>) the compiler thinks I'm passing the second closure into the first as an argument. Again a semicolon is needed to seperate the two lines:<br /><br /><blockquote><pre>{-&gt; assert GroovyClosureTest == owner.getClass() }();<br />{-&gt; assert GroovyClosureTest == delegate.getClass() }()<br /></pre></blockquote><br /> 
{% endraw %}
